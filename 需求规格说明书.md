## ERP系统 需求规格说明书

<table>
    <tr>
        <th width="150"><center>修改人员</center></th>
        <th width="150"><center>日期</center></th>
        <th><center>变更原因</center></th>
        <th width="150"><center>版本号</center></th>
    </tr>
    <tr>
        <td><center>卞文骐 樊珺</center></td>
        <td><center>2022/7/3</center></td>
        <td><center>创建软件需求规格说明书</center></td>
        <td><center>v0.1.0 正式版</center></td>
    </tr>
    <tr>
        <td><center>卞文骐 樊珺</center></td>
        <td><center>2022/7/9</center></td>
        <td><center>根据代码，补充修改需求规格说明书，新增功能需求模块</center></td>
        <td><center>v0.2.0 正式版</center></td>
    </tr>
</table>



### 1. 引言

本文档是对ERP系统财务模块、人力资源模块以及总经理模块的介绍与分析，引言部分将帮助读者更好地阅读和理解文档，了解系统的目的、范围、参考文献和阅读时的注意事项。

#### 	1.1 目的

本文的描述了企业资源计划系统（ERP）财务模块、人力资源模块、总经理模块的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。

**预期读者：**ERP系统开发小组成员

**文档目标：**对实现软件的功能做全面的描述，帮助用户判断实现功能的正确性、一致性和完整性，促使用户在软件设计启动之前周密地、全面地思考软件需求。了解和描述软件实现所需的全部信息，为软件设计、确认和验证提供一个基准。

#### 	1.2 范围

财务模块是整个ERP系统中用以服务进货财务人员、实现的财务管理子系统，开发的目标是帮助企业财务人员处理日常的重点业务，包括账户管理、单据指定、数据查看及期初建账。

通过ERP系统财务模块的应用，期望提高企业财务管理部门的工作效率，提升账目清晰程度，便利销售经营数据查看，同时为经理的决策做支持。

人力资源模块是整个ERP系统中用以服务人力资源人员、实现员工管理的子系统，开发的目标是帮助企业人力资源人员处理日常的重点业务，包括员工管理、员工打卡、制定工资单。

通过ERP系统人力资源模块的应用，期望提高企业人力资源管理部门的工作效率，增强人力资源的有效管理，同时为经理的决策做支持。

总经理模块是整个ERP系统中用以服务总经理、实现企业管理的子系统，开发的目标是帮助企业总经理处理日常的重点业务，包括单据审批、制定年终奖、制定促销策略。

通过ERP系统总经理模块的应用，期望提高企业总经理的工作效率，提高总经理的办公效率。

#### 	1.3 定义、首字母缩写和缩略语

ERP: Enterprise Resource Planning，企业资源计划系统，在本文中指本系统。

#### 	1.4 参考文献

<table>
    <tr>
        <th width="380">参考资料</th>
        <th>出版单位</th>
        <th width="200">作者</th>
        <th width="100">日期</th>
    </tr>
    <tr>
        <td>软件工程与计算（卷二）：软件开发的技术基础</td>
        <td>机械工业出版社</td>
        <td>骆斌、刘钦、丁玉二</td>
        <td>2012.12</td>
    </tr>
    <tr>
        <td>大作业项目需求</td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>B-需求规格说明书的点评</td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>lab7-大作业final检查</td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>用例文档</td>
        <td></td>
        <td>卞文骐、樊珺</td>
        <td>2022.7.3</td>
    </tr>
</table>
### 2. 总体描述

#### 	2.1 产品前景

##### 2.1.1 背景与机遇 

一民营企业专业从事灯具开关行业，是某著名开关品牌的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、 分销商、设计院、终端用户等。 现企业规模扩大，企业业务量、办公场所、员工数都发生增长，原有的传统管理和工作模式已经难以支持企业的日常重点工作。

为适应新的环境，提高工作效率和用户满意度， 该公司聘南鲸软件科技公司开发一套 ERP 系统。该系统主要包括 库存管理、销售管理、财务管理、人事管理和企业经营管理。其中本文档的对象系统财务模块是针对财务管理的业务要求而开发的，人力资源模块是针对人力资源管理的业务要求而开发的，总经理模块是针对总经理办公的业务要求而开发的

##### 2.1.2 业务需求

**BR1：** 在系统上线6个月后，财务人员工作效率要提高50%

**BR2：**在系统使用6个月后，账目的生成速度要提高30%

**BR3：**系统人力资源模块上线6个月后，人力资源管理效率要提高50%员工管理效率

**BR4：**系统人力资源模块上线1个月后，总经理的办公效率要提高70%

#### 2.2 产品功能

**SF1：**帮助财务人员管理银行账户

**SF2：**帮助建立收款单，付款单，工资单并入账，便利账户余额管理

**SF3：**根据筛选条件获取销售经营状况表

**SF4：**为期初建账提供初始化步骤

**SF5：**帮助人力资源人员进行员工管理

**SF6：**帮助员工进行打卡管理

**SF7：**帮助总经理进行单据审批

**SF8：**帮助总经理制定年终奖

**SF9：**帮助总经理制定促销策略

#### 2.3 用户特征

<table>
    <tr>
        <th width="150">用户</th>
        <th>特征</th>
    </tr>
    <tr>
        <td><b>财务人员</b></td>
        <td>财务部门有1~2位财务人员，负责在进货和销售任务完成时出具收款单和付款单交由总经理审批并入账，完成对企业账户的管理，与客户进行交互改变客户的应收应付。还会和人力资源人员交流，获得工资单开出工资付款单，给员工发放工资。此外，财务员会查看销售经营状况并统计导出，可能会根据表进行红冲操作。在周期开始时，财务员需要建立初始账目，可能会建立多套账目。由于任务频繁且涉及财务事宜，对软件系统依赖很大。财务员办公信息化系统较强，且对新系统持积极态度，不希望增加现有工作量。</td>
    </tr>
    <tr>
        <td><b>人力资源人员</b></td>
        <td>企业人力资源管理部门有1~2名人力资源人员，每天负责检查员工打卡情况。在新员工入职时，需要在系统中登记信息。当员工岗位发生变化时，需要在系统中进行岗位信息更新设置。人力资源人员还需要负责制定薪酬规则。</td>
    </tr>
    <tr>
        <td><b>总经理</b></td>
        <td>企业有2名总经理，在财务模块，总经理负责对财务人员所制定的单据进行审批，审批通过后方可入账，改变银行账户及客户应收应付信息。总经理需要对所有部门的经理进行管理和统筹，涉及部门重要的钱财和机密事宜。在总经理模块，总经理需要审批所有处于提交状态的单据。总经理需要根据员工平时表现以及前11个月的工资制定年终奖。此外，总经理还需要制定促销策略。因此总经理对软件系统有着较大的依赖。总经理能够熟练地使用办公信息化系统，对新系统持积极态度。</td>
    </tr>
</table>

#### 2.4 约束

**CON1：**系统使用图形化界面操作，支持Microsoft Edge、Google Chrome、Firefox等主流浏览器。

**CON2：**系统采用 Vue+Springboot+Mybatis 框架开发。

**CON3：**用户远程使用系统。

**CON4：**项目要使用持续集成方式进行开发。

**CON5：**在开发中，开发者要提交软件需求规格说明文档，设计描述文档和测试文档。

**CON6：**该子系统可以很好被总系统很好地兼容，并且风格一致。

#### 	2.5 假设和依赖

**AE1：**用户在阅读说明文档，并经过一段时间的使用后，可以熟练、灵活地操作本系统。

### 3. 详细需求描述

#### 	3.1 对外接口需求

##### 3.1.1 用户界面

<table>
    <tr>
        <th>用户类型</th>
        <th>用户界面</th>
    </tr>
    <tr>
        <th>财务人员</th>
        <td>
            <b>UI1 登录界面：</b>登录系统应该使用表单作为界面，登录后可以进入财务管理系统<br>
            <b>UI2 销售明细界面：</b>系统应该使用列表风格的界面，用户填写筛选条件后即可筛选出对应商品销售记录<br>
            <b>UI3 经营历程页面：</b>系统应该使用列表风格的界面，用户填写筛选条件后，显示该段时间内所有单据，点击单据可查看并进行红冲与红冲复制操作<br>
            <b>UI4 经营情况页面：</b>用户填写筛选条件后，界面上显示一段时间内的收入，支出及利润情况<br>
            <b>UI5 单据制定界面：</b>界面上显示三种单据页面：收款单，付款单，工资单。点击收款单和付款单可以查看已有收付款单（包括待审批，审批完成，审批失败），点击工资单可以查看已有工资单（不能创建，因为由系统自动创建）<br>
            <b>UI6 期初建账页面：</b>界面可选择需要建立的套账，点击建账可填写客户，账户，商品信息并提交<br>
            <b>UI7 账户管理页面：</b>系统应该使用列表风格的界面，显示所有账户列表，同时提供增删改查选项，点击即可进行对应操作
        </td>
    </tr>
        <th>人力资源人员</th>
        <td>
            <b>UI1 登录界面</b>：登录系统应该使用表单作为界面，登录后可以进入人力资源管理系统<br>
            <b>UI2 员工管理界面：</b>系统应该使用列表风格的界面，帮助人力资源人员完成员工管理任务<br>
            <b>UI3 打卡记录界面：</b>系统应该使用列表风格的界面，帮助人力资源人员完成员工打卡管理任务<br>
        </td>
    </tr>
    </tr>
        <th>总经理</th>
        <td>
            <b>UI1 登录界面</b>：登录系统应该使用表单作为界面，登录后可以进入总经理系统<br>
            <b>UI2 单据审批界面：</b>系统应该使用列表风格的界面，帮助总经理完成单据审批任务<br>
            <b>UI3 制定年终奖界面：</b>系统应该使用列表风格的界面，帮助总经理完成员工的年终奖制定<br>
            <b>UI4 制定促销策略界面：</b>系统应该使用列表风格的界面，帮助总经理设置不同的促销策略
        </td>
    </tr>
</table>

注释：总经理的单据审批界面不是指一个界面，而是所有类型单据一个类型一个界面，这里整体概括

##### 3.1.2 硬件接口

**HI：**系统可以连接和使用打印机

##### 3.1.3 软件接口

**SI1：**连接账号数据库、客户数据库

**SI2：**相关表格可以导出为excel文档

##### 3.1.4 通信接口 

**CI：**axios请求

#### 3.2 功能需求

##### 3.2.1 账户管理

###### 1） 特性描述

在公司银行账户出于某些原因需要改变时，一个经过验证登录的财务员开始对账户进行增删改查操作。

###### 2） 刺激/响应序列

| 刺激                                   | 响应                                       |
| -------------------------------------- | ------------------------------------------ |
| 财务员新建一个银行账户，输入名称及余额 | 系统在账户列表中新建一个账户               |
| 财务员输入账号关键字                   | 系统显示符合关键字模糊搜索的银行账户列表   |
| 财务员输入账号名称                     | 系统显示符合的银行账户                     |
| 财务员选择目标账户                     | 系统显示该账户的名称及余额                 |
| 财务员修改账户余额，点击确认           | 系统修改存储的该账户的余额，并返回成功提示 |
| 财务员删除账户，点击确认               | 系统删除该账户条目，并返回成功提示         |
| 财务员完成操作，返回                   | 系统回退到初始查询页面                     |

###### 3） 相关功能需求

| 功能                                                         | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Account.createAccount<br>Account.deleteById<br>Account.updateAccount<br>Account.findByName<br>Account.findByNameExactly<br>queryAllAccount<br>getSalaryPaymentAccount | 系统建立一个新的账户<br>系统删除一个账户<br>财务人员输入新的账户信息后，系统要更新数据库中账户<br>财务人员输入关键词后，系统要根据关键词查找账户<br>财务人员输入账户名后，系统要根据账户名查找账户<br>系统要显示所有账户信息<br>系统要显示工资发放账户的信息 |

##### 3.2.2 制定收付款单

###### 1） 特性描述

进货销售人员完成进货销售后，财务人员开始建立收付款单，完成对信息的录入，入账并更改账户及客户数据。

###### 2） 刺激/响应序列

| 刺激                                             | 响应                                                         |
| ------------------------------------------------ | ------------------------------------------------------------ |
| 财务人员点击制定单据                             | 系统显示单据信息填写页面并生成单据编号                       |
| 财务员选择单据类型(收付)                         | 系统显示信息填写页面                                         |
| 财务员填写客户，操作员，转账列表，总额汇总，提交 | 系统保存并生成收付款单，将收付款单发送给总经理进行审批，审批通过后入账并改变客户应收应付数据 |

###### 3） 相关功能需求

| 功能                                                         | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Payment.makeSheet<br>Payment.getSheetByState<br>Payment.getSheetById | 财务人员输入收款单信息提交后，系统要根据信息生成一个新的收款单并保存<br>财务人员输入状态后，系统要根据状态显示收款单列表<br>财务人员输入id后，系统要根据id显示对应收款单 |

##### 3.2.3 制定现金消费单

###### 1） 特性描述

付款单建立完成后，财务人员根据付款单建立现金消费单，完成信息录入，入账，减少账户余额并管理报销等现金操作。

###### 2） 刺激/响应序列

| 刺激                                                         | 响应                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 财务人员点击制定单据                                         | 系统显示单据信息填写页面并生成单据编号                       |
| 财务员填写员工编号、姓名、银行账户信息、应发工资、扣除税款、实发金额，提交 | 系统保存并生成现金消费单，将现金消费单发送给总经理进行审批，审批通过后入账并减少账户余额 |

###### 3） 相关功能需求

| 功能                                                         | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Receipt.makeSheet<br>Receipt.getSheetByState<br>Receipt.getSheetById | 财务人员输入付款单信息提交后，系统要根据信息生成一个新的付款单并保存<br>财务人员输入状态后，系统要根据状态显示付款单列表<br>财务人员输入id后，系统要根据id显示对应付款单 |

##### 3.2.4 制定工资发放单

###### 1） 特性描述

人力资源人员生成工资单后，财务人员根据工资单生成工资发放单，对现实银行账户进行操作，发放工资

###### 2）  刺激/响应序列

| 刺激                                                         | 响应                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 财务人员点击制定单据                                         | 系统显示单据信息填写页面并生成单据编号                       |
| 财务人员填写单据编号、员工编号、姓名、银行账户信息、应发工资、扣除税款、实发金额，提交 | 系统保存并生成工资单，将工资发放单交由总经理审批，审批通过后改变账户余额 |

###### 3） 相关功能需求

| 功能              | 描述                                                         |
| ----------------- | ------------------------------------------------------------ |
| Payment.paySalary | 每日零点，系统要检查是否满足发薪条件                         |
| Payment.makeSheet | 在满足发薪日触发条件时，系统要根据信息生成一个新的付款单并保存 |

##### 3.2.5 查看销售明细表

###### 1） 特性描述

需要检测统计一段时间内的商品销售情况时，财务员查看销售明细表，根据筛选条件筛选商品销售记录，并作为表格导出

###### 2） 刺激/响应序列

| 刺激                   | 响应                                        |
| ---------------------- | ------------------------------------------- |
| 财务人员输入筛选条件   | 系统以列表形式显示符合的所有商品销售记录    |
| 财务人员点击“数据导出” | 系统将符合的商品销售记录以EXCEL表格形式导出 |
| 财务人员取消筛选       | 系统回退至初始筛选页面                      |

###### 3） 相关功能需求

| 功能                     | 描述                                                         |
| ------------------------ | ------------------------------------------------------------ |
| Business.showSaleDetails | 财务人员输入起止日期后，系统要根据时间段显示该时间段内所有商品销售记录 |

##### 3.2.6 查看经营历程表

###### 1） 特性描述

需要查看一段时间里的所有单据时，财务员查看经营历程表，根据筛选条件筛选单据，并作为表格导出，进行红冲操作及红冲并复制操作

###### 2） 刺激/响应序列

| 刺激                   | 响应                                                         |
| ---------------------- | ------------------------------------------------------------ |
| 财务人员输入筛选条件   | 系统以列表形式显示符合的所有单据                             |
| 财务人员选择某个单据   | 系统显示该单据的所有信息                                     |
| 财务人员点击“数据导出” | 系统将符合的商品销售记录以EXCEL表格形式导出                  |
| 财务人员取消筛选       | 系统回退至初始筛选页面                                       |
| 财务人员点击“红冲”     | 系统生成一个一模一样但是仅仅把数量取负数的单子并入账，抵消之前的单子 |
| 财务人员点击红冲并复制 | 系统在红冲的基础上，新建一张以之前单子为模板的草稿单，给用户编辑 |

###### 3） 相关功能需求

| 功能                                                   | 描述                                                         |
| ------------------------------------------------------ | ------------------------------------------------------------ |
| Business.showBusinessProcess<br><br>Business.writeBack | 财务人员输入起止日期后，系统要根据时间段显示该时间段内所有单据记录<br>财务人员选择要红冲的单据后，系统要新建一个红冲单据并保存 |

##### 3.2.7 查看经营情况表

###### 1） 特性描述

需要统计显示一段时间内的经营收支状况和利润时，财务员查看经营情况表，并作为表格导出

###### 2） 刺激/响应序列

| 刺激                   | 响应                                        |
| ---------------------- | ------------------------------------------- |
| 财务人员选择某个时间段 | 系统显示该时间段收入，支出及利润            |
| 财务人员点击“数据导出” | 系统将符合的商品销售记录以EXCEL表格形式导出 |

###### 3） 相关功能需求

| 功能                           | 描述                                                         |
| ------------------------------ | ------------------------------------------------------------ |
| Business.showBusinessSituation | 财务人员输入起止日期后，系统要根据时间段显示该时间段内收支及利润 |

##### 3.2.8 期初建账

###### 1） 特性描述

在企业创立之初或一年/一月开始，一个经过验证的财务人员开始期初建账，初始化一套账。

###### 2） 刺激/响应序列

| 刺激                                                   | 响应                                       |
| ------------------------------------------------------ | ------------------------------------------ |
| 财务人员点击“添加信息”                                 | 系统显示信息填写页面                       |
| 财务人员填写商品信息，客户信息，银行账户信息，点击提交 | 系统建立一套账并单独储存，返回提交成功提示 |
| 用户点击“清空”                                         | 系统清除所有已经填写的信息                 |

###### 3） 相关功能需求

| 功能                                                         | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Business.createBook<br>Business.getBookById<br>Business.getAllBookId | 在财务人员输入初始信息后，系统要新建套账并单独储存<br>财务人员输入id后，系统要显示对应的套账<br>系统要显示所有初始套账信息 |

##### 3.2.9 员工管理

###### 1） 特性描述

员工入职时，在系统中登记员工信息（姓名、性别、出生日期、手机、工作岗位、基本工资、岗位工资、岗位级别、薪资计算方式、薪资方法方式）、工资卡账户。系统入职后，自动会创建相应账号。设为岗位对应的基本工资、岗位工资、岗位级别、薪资计算方式、薪资发放方式、扣税信息等制度信息。

**优先级=高**

###### 2） 刺激/响应序列

| 刺激                                       | 响应                                   |
| ------------------------------------------ | -------------------------------------- |
| 人力资源人员点击“员工管理”                 | 系统调出员工管理界面，显示员工列表     |
| 人力资源人员点击“入职员工登记”             | 系统显示入职员工登记表                 |
| 人力资源人员输入员工信息，并点击确认入职   | 系统增加对应员工信息，自动创建相应账号 |
| 人力资源人员修改员工的某个信息，并点击确认 | 系统更新对应员工被修改的信息           |

###### 3） 相关功能需求

| 功能                                                         | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| EmployeeService.induction<br />EmployeeService.updateEmployee<br />EmployeeService.getAllEmployee | 完成员工入职登记的填写，系统根据填写的信息创建账户<br />人力资源人员修改员工信息，系统对应更新<br />人力资源人员进入员工管理界面，系统展示所有员工的员工列表 |

##### 3.2.10 打卡系统

###### 1） 特性描述

所有员工，每天需要登录系统进行打卡。缺席扣除基本工资的 1/30。总经理不参与打卡。

**优先级=高**

###### 2） 刺激/响应序列

| 刺激                       | 响应                                 |
| -------------------------- | ------------------------------------ |
| 人力资源人员点击“打卡记录” | 系统调出所有员工的打卡记录           |
| 员工点击“打卡”             | 系统更新员工打卡记录为“已打卡”       |
| 员工点击“打卡记录”         | 系统显示个人打卡记录界面             |
| 点击选择日期               | 系统筛选展示指定日期范围内的打卡记录 |

###### 3） 相关功能需求

| 功能                                                         | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ClockInService.clockIn<br />ClockInService.getAllPersonalRecord<br />ClockInService.getPersonalRecordByDate<br />ClockInService.getAllRecord<br /> | 员工打卡，系统刚更新打卡记录<br />员工查看打卡记录，系统展示个人所有打卡记录<br />选择指定日期，系统展示日期范围内的打卡记录<br />人力资源人员、总经理检查打卡记录时，系统展示所有打卡记录 |

##### 3.2.11 单据审批

###### 1） 特性描述

所有的单据都有草稿状态，提交状态，审批后状态。总经理每天查看所有申请单据，修改单据数据，并通过该单据的审批。总经理可以批量审批。

**优先级=高**

###### 2） 刺激/响应序列

| 刺激                                                         | 响应                                 |
| ------------------------------------------------------------ | ------------------------------------ |
| 总经理点击“进货管理/进货退货管理/销售管理/销售退货管理”等单据管理 | 系统调出单据审批界面，显示单据列表   |
| 总经理点击通过审批                                           | 系统修改单据状态为“审批后”的完成状态 |
| 总经理点击拒绝通过审批                                       | 系统修改单据状态为“审批后”的失败状态 |

###### 3） 相关功能需求

| 功能                                                         | 描述                                             |
| ------------------------------------------------------------ | ------------------------------------------------ |
| SaleService.approval<br />SaleReturnsService.approval<br />PurchaseService.approval<br />PurchaseReturnsService.approval<br />ReceiptService.approval<br />PaymentService.approval<br />SalaryService.approval | 在总经理确认单据通过或不通过时，系统修改单据状态 |
| SaleService.getSaleSheetByState<br />SaleReturnsService.getSaleReturnsSheetByState<br />PurchaseService.getPurchaseSheetByState<br />PurchaseReturnsService.getPurchaseReturnsSheetByState<br />ReceiptService.getReceiptSheetByState<br />PaymentService.getPaymentSheetByState<br />SalaryService.getSalarySheetByState | 在总经理点击xxxx管理时，系统根据单据状态提供单据 |

##### 3.2.12 制定年终奖

###### 1） 特性描述

根据个人每年综合表现制定年终奖。可以查看之前 11 个月的工资收入总和，避免陷入税务陷阱（发的多，但由于税率提高，拿的少）。

**优先级=高**

###### 2） 刺激/响应序列

| 刺激                     | 响应                                       |
| ------------------------ | ------------------------------------------ |
| 总经理点击“年终奖管理”   | 系统调出年终奖管理界面，展示员工年终奖列表 |
| 总经理点击修改           | 系统调出对应员工年终奖表单                 |
| 总经理修改完毕后点击提交 | 系统更新对应员工年终奖                     |

###### 3） 相关功能需求

| 功能                                                         | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| SalaryService.setFinalBonus<br />SalaryService.getFinalBonusList | 总经理修改员工年终奖，系统更新员工年终奖<br />总经理打开年终奖管理界面，系统调出员工年终奖列表 |

##### 3.2.13 制定促销策略

###### 1）特性描述

总经理可以针对不同级别的用户制定促销策略（赠品、价格折让、赠送代金劵）。总经理可以制定特价包（组合商品降价）。总经理可以制定针对不同总价的促销策略（赠品、赠送代金卷）。所有促销策略都有起始时间和截止时间。所有赠品条件促发后，系统会自动建立库存赠送单，由总经理审批通过后，发送消息给库存管理员发放赠品。

**优先级=高**

###### 2）刺激/响应序列

| 刺激                   | 响应                                     |
| ---------------------- | ---------------------------------------- |
| 总经理点击促销策略     | 系统调出促销策略界面，并展示促销策略列表 |
| 总经理点击新增促销策略 | 系统调出促销策略表单                     |
| 总经理点击填写完毕     | 系统添加促销策略                         |
| 总经理点击修改         | 系统调出促销策略表单                     |
| 总经理点击修改完毕     | 系统更新促销策略                         |

###### 3）相关功能需求

| 功能                                                         | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| PromotionService.createPromotion<br />PromotionService.getAllPromotion<br />PromotionService.getValidPromotion<br />PromotionService.getPromotionById | 在总经理创建促销策略时，系统存入促销优惠信息<br />系统提供查询所有促销策略的功能<br />在创建销售单时，系统查询有效促销策略<br />总经理修改促销策略时，系统查询返回促销策略信息单 |

##### 3.2.14 查看销售明细表

见3.2.5

##### 3.2.15 查看经营历程表

见3.2.6，无红冲功能

##### 3.2.16 查看经营状况表

见3.2.7

#### 	3.3 性能需求

##### 3.3.1 安全性

**Safety1：**系统应该只允许经过验证和授权的用户访问。

**Safety2：**系统应该按照用户身份验证用户的访问权限：财务人员，总经理

**Safety3：**系统中有一个默认的管理员账户，该账户只允许管理员用户修改口令；其他身份的用户没有访问权限。

**Safety4：**当系统30分钟内未被某用户访问与修改时，应该收回对该用户的授权并回到登录界面。

**Safety5：**如果用户连续输错5次密码，系统将暂时拒绝该用户的登陆请求5分钟。

**Safety6：**如果用户尝试使用非正常方式访问和使用系统，系统应予以拒绝。

##### 3.3.2 可维护性

**Modifiability1：**当系统的账目数据格式发生变化时，系统要能够在3人1天内完成。

**Modifiability2：**当系统的用户数据格式发生变化时，系统要能够在1人1天内完成。

##### 3.3.3 易用性

**Usability1：**财务人员能在0.5个月时内熟练掌握系统使用。

**Usability2：**使用系统一个月的财务管理人员进行生成一份单据的时间要小于10分钟。

**Usability3：**财务人员使用系统时的出错率要低于0.2%。

##### 3.3.4 可靠性

**Reliability1：**在客户端与服务器端通信时，如果发生网络故障，系统不能崩溃。

**Reliability1.1：**客户端应该检测到故障，并尝试重新连接网络，重复3次，每次15秒。

**Reliability1.2.1：**若重新连接成功，系统应该继续之前的工作。

**Reliability1.2.2：**若未成功，则等待5分钟后重试。

**Reliability1.3.1：**若重新连接成功，系统应该继续之前的工作。

**Reliability1.3.2：**若仍然不成功，系统应该显示故障并写入日志。

**Reliability2：**系统应该允许5个用户同时进行操作。

**Reliability2.1：**若同时请求的用户超过5个，系统应该拒绝新用户的操作并显示繁忙。

**Reliability3：**系统对用户操作的响应应该在1秒内完成。

**Reliability4：**系统应该容纳用户输入的100000条单据数据。

#### 	3.4 约束

**IC1：**开发过程中，所有开发人员提出的每一个决策都要经过其他成员审议以及一致通过，才能依照应有顺序执行决策。

**IC2：**系统需要在网络上分布为一个服务器和多个客户端，供多个部门的人员使用。

#### 	3.5 其他需求

##### 3.5.1 数据需求

###### 3.5.1.1 数据定义

**DR1：**系统需要存储所有的账户信息

**DR2：**系统需要存储所有的单据信息

**DR3：**系统需要存储所有的客户信息

**DR4：**系统需要存储所有收入、支出、利润数据

**DR5：**系统需要存储所有员工信息、工资卡账户、打卡信息、薪资信息，保存员工过去一年的工资收入

**DR6：**系统需要存储所有通过审批且未被删除的单据及其信息

**DR7：**系统需要存储一个记录所有主要操作的日志

**DR8：**系统需要存储商品过去一年的进价/售价

**DR9：**系统需要存储所有的商品及商品分类信息

###### 3.5.1.2 默认数据

默认数据用于以下种情况：

- 系统新增加数据时
- 编辑数据时，不小心将相关内容清空时

**Default1：**时间问题。所有时间，默认为生成相应数据时的时间。

**Default2：**商品价格。商品默认进价、售价为上年平均，最近进价、售价为空。

**Default3：**单据信息。生成单据时，商品单价默认为商品信息中的进价；若存在默认业务员，则设置为相应业务员，否则默认为空；应收应付信息，若存在之前遗留的数据，则默认为遗留数据；红冲生成的单据默认和原单据相同，数量取负。

**Default4：**编号问题。客户编号从0开始，依次增大；单据编号按照单据编号格式要求初始化，后五位依次增大；商品分类编号、员工编号同客户编号。

**Default5：**操作员默认为当前登录系统的用户。

**Default6：**其他数据。上述默认数值中，未提及且不存在对应数据的客户的详细信息（电话、姓名等）、商品的具体信息、员工信息以及单据的具体信息（备注等）等默认为空，所有不存在对应数据的数量、金额，默认为空。

###### 3.5.1.3 数据格式要求

**Format1：**商品数量的格式必须是非负整数

**Format2：**所有价格和费用格式必须是非负数，单位为元

**Format3：**单据编号格式为“TTT-yyyyMMdd-xxxxx”，前几位取单据名称首字母大写，位数不固定，如：进货单即“JHD”；后五位每天从1开始编号

**Format4：**客户级别分五级

**Format5：**客户类型分为供应商、销售商

**Format6：**销售明细表的时间精确到具体某一天

##### 3.5.2 安装需求

**Install1：**在安装系统时，要初始化账号、商品库存等重要数据

**Install2：**系统投入使用时，需要对用户进行培训

**Install3：**客户端无需安装，使用网页即可操作

### 附录

该文档的编写参考并依照 [大作业项目需求.pdf](https://seec-homework.oss-cn-shanghai.aliyuncs.com/201250063 大作业项目需求.pdf) 完成